/* ── Cyber Columns — Galaxy Edition ── */

/* ===== Container & Background ===== */
.cyber-columns-container {
  position: relative;
  overflow: hidden;
  background: radial-gradient(ellipse at 50% 20%, hsl(270 60% 8%) 0%, hsl(240 40% 4%) 40%, hsl(0 0% 0%) 100%);
}

/* Deep space starfield */
.cc-starfield {
  position: absolute;
  inset: 0;
  overflow: hidden;
  pointer-events: none;
}

.cc-starfield::before,
.cc-starfield::after {
  content: '';
  position: absolute;
  inset: 0;
  background-image:
    radial-gradient(1px 1px at 10% 20%, hsl(0 0% 100% / 0.8), transparent),
    radial-gradient(1px 1px at 25% 45%, hsl(0 0% 100% / 0.6), transparent),
    radial-gradient(1.5px 1.5px at 40% 15%, hsl(199 100% 80% / 0.9), transparent),
    radial-gradient(1px 1px at 55% 65%, hsl(0 0% 100% / 0.5), transparent),
    radial-gradient(1px 1px at 70% 30%, hsl(330 100% 80% / 0.7), transparent),
    radial-gradient(1.5px 1.5px at 85% 50%, hsl(0 0% 100% / 0.8), transparent),
    radial-gradient(1px 1px at 15% 75%, hsl(270 80% 80% / 0.6), transparent),
    radial-gradient(1px 1px at 90% 80%, hsl(0 0% 100% / 0.5), transparent),
    radial-gradient(1px 1px at 50% 90%, hsl(199 100% 80% / 0.7), transparent),
    radial-gradient(1.5px 1.5px at 35% 55%, hsl(0 0% 100% / 0.9), transparent),
    radial-gradient(1px 1px at 60% 10%, hsl(0 0% 100% / 0.6), transparent),
    radial-gradient(1px 1px at 75% 85%, hsl(330 80% 80% / 0.5), transparent),
    radial-gradient(1px 1px at 5% 50%, hsl(0 0% 100% / 0.7), transparent),
    radial-gradient(1px 1px at 95% 15%, hsl(0 0% 100% / 0.8), transparent),
    radial-gradient(2px 2px at 48% 35%, hsl(45 100% 80% / 0.9), transparent);
  animation: cc-twinkle 4s ease-in-out infinite alternate;
}

.cc-starfield::after {
  background-image:
    radial-gradient(1px 1px at 20% 30%, hsl(0 0% 100% / 0.6), transparent),
    radial-gradient(1.5px 1.5px at 45% 70%, hsl(199 80% 70% / 0.8), transparent),
    radial-gradient(1px 1px at 65% 20%, hsl(0 0% 100% / 0.7), transparent),
    radial-gradient(1px 1px at 80% 55%, hsl(330 100% 70% / 0.6), transparent),
    radial-gradient(1px 1px at 30% 85%, hsl(0 0% 100% / 0.5), transparent),
    radial-gradient(1px 1px at 55% 40%, hsl(270 80% 70% / 0.7), transparent),
    radial-gradient(2px 2px at 12% 60%, hsl(45 100% 70% / 0.8), transparent),
    radial-gradient(1px 1px at 88% 35%, hsl(0 0% 100% / 0.9), transparent),
    radial-gradient(1px 1px at 42% 5%, hsl(199 100% 90% / 0.6), transparent),
    radial-gradient(1px 1px at 72% 75%, hsl(0 0% 100% / 0.5), transparent);
  animation: cc-twinkle 5s ease-in-out 1s infinite alternate-reverse;
}

@keyframes cc-twinkle {
  0% { opacity: 0.6; }
  100% { opacity: 1; }
}

/* Purple nebula mist */
.cc-nebula {
  position: absolute;
  inset: 0;
  pointer-events: none;
  background:
    radial-gradient(ellipse 60% 40% at 30% 30%, hsl(270 60% 25% / 0.25), transparent),
    radial-gradient(ellipse 50% 50% at 70% 60%, hsl(330 60% 20% / 0.2), transparent),
    radial-gradient(ellipse 40% 30% at 50% 80%, hsl(199 60% 20% / 0.15), transparent);
  animation: cc-nebula-drift 12s ease-in-out infinite alternate;
}

@keyframes cc-nebula-drift {
  0% { transform: translate(0, 0) scale(1); opacity: 0.7; }
  100% { transform: translate(10px, -10px) scale(1.05); opacity: 1; }
}

/* Floating particles */
.cc-particles {
  position: absolute;
  inset: 0;
  pointer-events: none;
  overflow: hidden;
}

.cc-particle {
  position: absolute;
  width: 3px;
  height: 3px;
  border-radius: 50%;
  animation: cc-float-up linear infinite;
}

@keyframes cc-float-up {
  0% { transform: translateY(100vh) scale(0); opacity: 0; }
  10% { opacity: 1; transform: translateY(90vh) scale(1); }
  90% { opacity: 0.6; }
  100% { transform: translateY(-10vh) scale(0.3); opacity: 0; }
}

/* Orbit ring */
.cc-orbit-ring {
  position: absolute;
  top: 15%;
  left: 50%;
  width: 500px;
  height: 160px;
  margin-left: -250px;
  border-radius: 50%;
  border: 1.5px solid hsl(300 80% 60% / 0.15);
  box-shadow:
    0 0 20px hsl(300 80% 60% / 0.1),
    inset 0 0 20px hsl(199 80% 60% / 0.05);
  transform: perspective(600px) rotateX(65deg);
  animation: cc-orbit-spin 20s linear infinite;
  pointer-events: none;
}

@keyframes cc-orbit-spin {
  0% { transform: perspective(600px) rotateX(65deg) rotateZ(0deg); }
  100% { transform: perspective(600px) rotateX(65deg) rotateZ(360deg); }
}

/* ===== Galaxy Title ===== */
.cc-title-cyber {
  font-family: 'Georgia', serif;
  font-style: italic;
  font-weight: 700;
  font-size: 3rem;
  background: linear-gradient(180deg, hsl(330 100% 70%), hsl(330 100% 55%));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  filter: drop-shadow(0 0 15px hsl(330 100% 60% / 0.6)) drop-shadow(0 0 30px hsl(330 100% 60% / 0.3));
  line-height: 1;
}

.cc-title-columns {
  font-family: 'Arial Black', 'Impact', sans-serif;
  font-weight: 900;
  font-size: 3.5rem;
  letter-spacing: 0.1em;
  background: linear-gradient(180deg, hsl(220 80% 80%), hsl(270 60% 60%), hsl(330 80% 60%));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  filter: drop-shadow(0 0 10px hsl(220 80% 70% / 0.5)) drop-shadow(0 2px 0 hsl(0 0% 0% / 0.5));
  line-height: 1.1;
}

/* Title sparkles */
.cc-title-sparkle {
  position: absolute;
  width: 6px;
  height: 6px;
  background: hsl(0 0% 100%);
  border-radius: 50%;
  box-shadow: 0 0 6px 2px hsl(0 0% 100% / 0.8);
  animation: cc-sparkle 2s ease-in-out infinite;
}

@keyframes cc-sparkle {
  0%, 100% { transform: scale(0); opacity: 0; }
  50% { transform: scale(1); opacity: 1; }
}

/* ===== Board Frame — Glass Panel ===== */
.cyber-columns-board {
  position: relative;
  border-radius: 0.75rem;
  background: hsl(240 30% 6% / 0.6);
  backdrop-filter: blur(12px);
  overflow: hidden;
}

/* Gradient neon border — brighter like reference */
.cyber-columns-board::before {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: 0.75rem;
  padding: 2.5px;
  background: linear-gradient(180deg, hsl(199 100% 55% / 0.8), hsl(270 60% 55% / 0.4), hsl(330 100% 65% / 0.8));
  -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  pointer-events: none;
}

/* Corner glow accents */
.cyber-columns-board::after {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: 0.75rem;
  background:
    radial-gradient(circle at 0% 0%, hsl(199 100% 50% / 0.2), transparent 30%),
    radial-gradient(circle at 100% 0%, hsl(330 100% 60% / 0.2), transparent 30%),
    radial-gradient(circle at 0% 100%, hsl(270 60% 50% / 0.15), transparent 30%),
    radial-gradient(circle at 100% 100%, hsl(199 100% 50% / 0.15), transparent 30%);
  pointer-events: none;
}

/* Grid cell background */
.cc-grid-cell {
  border: 1px solid hsl(240 40% 40% / 0.08);
  background: hsl(240 20% 12% / 0.2);
  border-radius: 50%;
}

/* ===== Gem Styles — Realistic Crystal Sphere Orbs ===== */
.cyber-gem {
  position: relative;
  border-radius: 50%;
  transition: opacity 0.15s ease, transform 0.15s ease;
  overflow: visible;
}

/* Top specular highlight — bright crescent for realistic 3D sphere */
.cyber-gem::after {
  content: '';
  position: absolute;
  top: 8%;
  left: 18%;
  width: 48%;
  height: 32%;
  border-radius: 50%;
  background: linear-gradient(
    175deg,
    hsl(0 0% 100% / 0.95) 0%,
    hsl(0 0% 100% / 0.6) 25%,
    hsl(0 0% 100% / 0.15) 55%,
    transparent 100%
  );
  pointer-events: none;
  z-index: 3;
  filter: blur(0.5px);
}

/* Secondary bottom-right reflection for realism */
.cyber-gem::before {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: 50%;
  pointer-events: none;
  z-index: 2;
  animation: cc-gem-pulse 3s ease-in-out infinite;
}

@keyframes cc-gem-pulse {
  0%, 100% {
    box-shadow:
      inset 0 0 10px hsl(0 0% 100% / 0.08),
      inset 0 -8px 16px hsl(0 0% 0% / 0.4),
      inset 4px 4px 8px hsl(0 0% 100% / 0.05),
      inset -2px 2px 4px hsl(0 0% 100% / 0.03);
  }
  50% {
    box-shadow:
      inset 0 0 20px hsl(0 0% 100% / 0.25),
      inset 0 -8px 16px hsl(0 0% 0% / 0.3),
      inset 4px 4px 8px hsl(0 0% 100% / 0.1),
      inset -2px 2px 4px hsl(0 0% 100% / 0.08);
  }
}

/* ── Plasma Core (Blue) — deep rich sapphire sphere ── */
.cyber-gem--energy {
  background:
    radial-gradient(circle at 30% 22%, hsl(200 100% 92%) 0%, transparent 28%),
    radial-gradient(circle at 65% 72%, hsl(220 100% 25%) 0%, transparent 45%),
    radial-gradient(circle at 42% 40%, hsl(210 100% 70%) 0%, transparent 55%),
    radial-gradient(circle at 50% 50%, hsl(200 100% 55%), hsl(225 100% 25%));
  box-shadow:
    0 0 12px 3px hsl(199 100% 60% / 0.9),
    0 0 30px 6px hsl(199 100% 50% / 0.5),
    0 0 60px 12px hsl(199 100% 50% / 0.2),
    0 4px 8px hsl(0 0% 0% / 0.5),
    inset 0 2px 4px hsl(0 0% 100% / 0.25);
  border: 1px solid hsl(199 100% 75% / 0.4);
}

/* ── Nova Shard (Pink/Magenta) — hot gem like reference ── */
.cyber-gem--data {
  background:
    radial-gradient(circle at 30% 22%, hsl(330 100% 95%) 0%, transparent 28%),
    radial-gradient(circle at 65% 72%, hsl(340 100% 25%) 0%, transparent 45%),
    radial-gradient(circle at 42% 40%, hsl(335 100% 65%) 0%, transparent 55%),
    radial-gradient(circle at 50% 50%, hsl(330 100% 60%), hsl(345 100% 25%));
  box-shadow:
    0 0 12px 3px hsl(330 100% 65% / 0.9),
    0 0 30px 6px hsl(330 100% 55% / 0.5),
    0 0 60px 12px hsl(330 100% 55% / 0.2),
    0 4px 8px hsl(0 0% 0% / 0.5),
    inset 0 2px 4px hsl(0 0% 100% / 0.25);
  border: 1px solid hsl(330 100% 75% / 0.4);
}

/* ── Quantum Orb (Purple) — deep amethyst sphere ── */
.cyber-gem--quantum {
  background:
    radial-gradient(circle at 30% 22%, hsl(275 85% 90%) 0%, transparent 28%),
    radial-gradient(circle at 65% 72%, hsl(260 80% 20%) 0%, transparent 45%),
    radial-gradient(circle at 42% 40%, hsl(270 80% 60%) 0%, transparent 55%),
    radial-gradient(circle at 50% 50%, hsl(270 80% 55%), hsl(260 80% 22%));
  box-shadow:
    0 0 12px 3px hsl(270 80% 60% / 0.9),
    0 0 30px 6px hsl(270 80% 50% / 0.5),
    0 0 60px 12px hsl(270 80% 50% / 0.2),
    0 4px 8px hsl(0 0% 0% / 0.5),
    inset 0 2px 4px hsl(0 0% 100% / 0.25);
  border: 1px solid hsl(270 80% 70% / 0.4);
}

/* ── Ion Fragment (Cyan/Teal) — ice crystal ── */
.cyber-gem--circuit {
  background:
    radial-gradient(circle at 30% 22%, hsl(180 100% 92%) 0%, transparent 28%),
    radial-gradient(circle at 65% 72%, hsl(190 80% 22%) 0%, transparent 45%),
    radial-gradient(circle at 42% 40%, hsl(180 90% 55%) 0%, transparent 55%),
    radial-gradient(circle at 50% 50%, hsl(180 90% 50%), hsl(195 80% 22%));
  box-shadow:
    0 0 12px 3px hsl(180 90% 55% / 0.9),
    0 0 30px 6px hsl(180 90% 45% / 0.5),
    0 0 60px 12px hsl(180 90% 45% / 0.2),
    0 4px 8px hsl(0 0% 0% / 0.5),
    inset 0 2px 4px hsl(0 0% 100% / 0.25);
  border: 1px solid hsl(180 90% 70% / 0.4);
}

/* ── Stellar Burst (Gold) — rare golden crystal ── */
.cyber-gem--bonus {
  background:
    radial-gradient(circle at 30% 22%, hsl(50 100% 97%) 0%, transparent 25%),
    radial-gradient(circle at 65% 72%, hsl(35 100% 25%) 0%, transparent 45%),
    radial-gradient(circle at 42% 40%, hsl(45 100% 65%) 0%, transparent 55%),
    radial-gradient(circle at 50% 50%, hsl(45 100% 60%), hsl(30 100% 25%));
  box-shadow:
    0 0 14px 4px hsl(45 100% 55% / 1),
    0 0 35px 8px hsl(45 100% 50% / 0.6),
    0 0 70px 14px hsl(45 100% 45% / 0.25),
    0 4px 8px hsl(0 0% 0% / 0.5),
    inset 0 2px 4px hsl(0 0% 100% / 0.35);
  border: 1px solid hsl(45 100% 75% / 0.5);
}
.cyber-gem--bonus::before {
  animation: cc-gem-pulse 1.2s ease-in-out infinite;
}

/* ===== MATCH BURST — Vivid color-matched supernova ===== */
.cyber-gem--clearing {
  animation: cc-gem-explode 0.6s ease-out forwards;
  z-index: 10;
}

/* Expanding color burst ring */
.cyber-gem--clearing::before {
  animation: cc-burst-ring 0.65s ease-out forwards !important;
  border-radius: 50% !important;
  inset: -100% !important;
  box-shadow: none !important;
}

/* Color sparkle rays */
.cyber-gem--clearing::after {
  animation: cc-burst-sparkle 0.6s ease-out forwards !important;
  width: 300% !important;
  height: 300% !important;
  top: -100% !important;
  left: -100% !important;
  border-radius: 50% !important;
  filter: blur(0.3px) !important;
}

/* ── Blue supernova ── */
.cyber-gem--energy.cyber-gem--clearing::before {
  background: radial-gradient(circle, hsl(199 100% 95% / 1), hsl(199 100% 70% / 0.8), hsl(210 100% 55% / 0.4), transparent 65%) !important;
}
.cyber-gem--energy.cyber-gem--clearing::after {
  background: conic-gradient(from 0deg, hsl(199 100% 90% / 1) 0deg, hsl(210 100% 70% / 0.5) 5deg, transparent 10deg, transparent 35deg, hsl(199 100% 85% / 0.9) 40deg, hsl(210 100% 65% / 0.4) 45deg, transparent 50deg, transparent 80deg, hsl(199 100% 90% / 0.8) 85deg, transparent 95deg, transparent 125deg, hsl(210 100% 85% / 0.9) 130deg, transparent 140deg, transparent 170deg, hsl(199 100% 90% / 0.8) 175deg, transparent 185deg, transparent 215deg, hsl(210 100% 85% / 0.9) 220deg, transparent 230deg, transparent 260deg, hsl(199 100% 90% / 0.8) 265deg, transparent 275deg, transparent 305deg, hsl(210 100% 85% / 0.9) 310deg, transparent 320deg, transparent 350deg, hsl(199 100% 80% / 0.7) 355deg, transparent 360deg) !important;
}

/* ── Pink supernova ── */
.cyber-gem--data.cyber-gem--clearing::before {
  background: radial-gradient(circle, hsl(330 100% 95% / 1), hsl(330 100% 72% / 0.8), hsl(340 100% 55% / 0.4), transparent 65%) !important;
}
.cyber-gem--data.cyber-gem--clearing::after {
  background: conic-gradient(from 0deg, hsl(330 100% 92% / 1) 0deg, hsl(340 100% 70% / 0.5) 5deg, transparent 10deg, transparent 35deg, hsl(330 100% 88% / 0.9) 40deg, hsl(340 100% 65% / 0.4) 45deg, transparent 50deg, transparent 80deg, hsl(330 100% 92% / 0.8) 85deg, transparent 95deg, transparent 125deg, hsl(340 100% 88% / 0.9) 130deg, transparent 140deg, transparent 170deg, hsl(330 100% 92% / 0.8) 175deg, transparent 185deg, transparent 215deg, hsl(340 100% 88% / 0.9) 220deg, transparent 230deg, transparent 260deg, hsl(330 100% 92% / 0.8) 265deg, transparent 275deg, transparent 305deg, hsl(340 100% 88% / 0.9) 310deg, transparent 320deg, transparent 350deg, hsl(330 100% 85% / 0.7) 355deg, transparent 360deg) !important;
}

/* ── Purple supernova ── */
.cyber-gem--quantum.cyber-gem--clearing::before {
  background: radial-gradient(circle, hsl(270 85% 92% / 1), hsl(270 80% 68% / 0.8), hsl(260 80% 50% / 0.4), transparent 65%) !important;
}
.cyber-gem--quantum.cyber-gem--clearing::after {
  background: conic-gradient(from 0deg, hsl(270 85% 90% / 1) 0deg, hsl(280 80% 68% / 0.5) 5deg, transparent 10deg, transparent 35deg, hsl(270 85% 85% / 0.9) 40deg, hsl(260 80% 62% / 0.4) 45deg, transparent 50deg, transparent 80deg, hsl(270 85% 90% / 0.8) 85deg, transparent 95deg, transparent 125deg, hsl(280 80% 85% / 0.9) 130deg, transparent 140deg, transparent 170deg, hsl(270 85% 90% / 0.8) 175deg, transparent 185deg, transparent 215deg, hsl(280 80% 85% / 0.9) 220deg, transparent 230deg, transparent 260deg, hsl(270 85% 90% / 0.8) 265deg, transparent 275deg, transparent 305deg, hsl(280 80% 85% / 0.9) 310deg, transparent 320deg, transparent 350deg, hsl(270 80% 82% / 0.7) 355deg, transparent 360deg) !important;
}

/* ── Cyan supernova ── */
.cyber-gem--circuit.cyber-gem--clearing::before {
  background: radial-gradient(circle, hsl(180 95% 92% / 1), hsl(180 90% 65% / 0.8), hsl(185 85% 50% / 0.4), transparent 65%) !important;
}
.cyber-gem--circuit.cyber-gem--clearing::after {
  background: conic-gradient(from 0deg, hsl(180 95% 90% / 1) 0deg, hsl(185 90% 68% / 0.5) 5deg, transparent 10deg, transparent 35deg, hsl(180 95% 85% / 0.9) 40deg, hsl(185 90% 62% / 0.4) 45deg, transparent 50deg, transparent 80deg, hsl(180 95% 90% / 0.8) 85deg, transparent 95deg, transparent 125deg, hsl(185 90% 85% / 0.9) 130deg, transparent 140deg, transparent 170deg, hsl(180 95% 90% / 0.8) 175deg, transparent 185deg, transparent 215deg, hsl(185 90% 85% / 0.9) 220deg, transparent 230deg, transparent 260deg, hsl(180 95% 90% / 0.8) 265deg, transparent 275deg, transparent 305deg, hsl(185 90% 85% / 0.9) 310deg, transparent 320deg, transparent 350deg, hsl(180 90% 82% / 0.7) 355deg, transparent 360deg) !important;
}

/* ── Gold MEGA supernova ── */
.cyber-gem--bonus.cyber-gem--clearing::before {
  background: radial-gradient(circle, hsl(50 100% 97% / 1), hsl(45 100% 75% / 0.9), hsl(40 100% 55% / 0.5), transparent 60%) !important;
}
.cyber-gem--bonus.cyber-gem--clearing::after {
  background: conic-gradient(from 0deg, hsl(45 100% 92% / 1) 0deg, hsl(40 100% 75% / 0.6) 5deg, transparent 10deg, transparent 25deg, hsl(50 100% 88% / 0.95) 28deg, transparent 35deg, transparent 55deg, hsl(45 100% 90% / 0.9) 58deg, transparent 65deg, transparent 85deg, hsl(40 100% 88% / 0.9) 88deg, transparent 95deg, transparent 115deg, hsl(50 100% 90% / 0.9) 118deg, transparent 125deg, transparent 145deg, hsl(45 100% 88% / 0.9) 148deg, transparent 155deg, transparent 175deg, hsl(40 100% 90% / 0.9) 178deg, transparent 185deg, transparent 205deg, hsl(50 100% 88% / 0.9) 208deg, transparent 215deg, transparent 235deg, hsl(45 100% 90% / 0.9) 238deg, transparent 245deg, transparent 265deg, hsl(40 100% 88% / 0.9) 268deg, transparent 275deg, transparent 295deg, hsl(50 100% 90% / 0.9) 298deg, transparent 305deg, transparent 325deg, hsl(45 100% 88% / 0.9) 328deg, transparent 335deg, transparent 355deg, hsl(40 100% 85% / 0.8) 358deg, transparent 360deg) !important;
  width: 400% !important;
  height: 400% !important;
  top: -150% !important;
  left: -150% !important;
}

@keyframes cc-burst-ring {
  0% { transform: scale(0.1); opacity: 1; filter: brightness(2); }
  30% { transform: scale(2); opacity: 0.9; filter: brightness(1.5); }
  60% { transform: scale(3.5); opacity: 0.5; filter: brightness(1.2); }
  100% { transform: scale(5.5); opacity: 0; filter: brightness(1); }
}

@keyframes cc-burst-sparkle {
  0% { transform: scale(0.1) rotate(0deg); opacity: 1; filter: brightness(2); }
  40% { transform: scale(1.4) rotate(20deg); opacity: 0.9; filter: brightness(1.5); }
  100% { transform: scale(4) rotate(60deg); opacity: 0; filter: brightness(1); }
}

/* ===== Active piece glow ===== */
.cc-gem-active {
  animation: cc-gem-enter 0.2s ease-out;
}

@keyframes cc-gem-enter {
  0% { opacity: 0.6; transform: translateY(-3px) scale(0.9); }
  100% { opacity: 1; transform: translateY(0) scale(1); }
}

@keyframes cc-gem-explode {
  0% { transform: scale(1); opacity: 1; filter: brightness(1); }
  15% { transform: scale(1.7); filter: brightness(3.5); }
  35% { transform: scale(1.4); opacity: 0.85; filter: brightness(2.5); }
  100% { transform: scale(0); opacity: 0; filter: brightness(6); }
}

/* Match flash overlay */
.cc-match-flash {
  position: absolute;
  inset: 0;
  border-radius: 50%;
  background: hsl(0 0% 100% / 0.9);
  animation: cc-flash 0.25s ease-out forwards;
  pointer-events: none;
}

@keyframes cc-flash {
  0% { opacity: 1; transform: scale(1); }
  100% { opacity: 0; transform: scale(1.4); }
}

/* ===== Electric Arc Animation on Match ===== */
.cc-electric-arc {
  position: absolute;
  pointer-events: none;
  z-index: 20;
  border-radius: 50%;
}

.cc-electric-arc--1 {
  top: -40%;
  left: -40%;
  width: 180%;
  height: 180%;
  background: transparent;
  border: 2px solid hsl(199 100% 70% / 0);
  animation: cc-arc-pulse-1 0.5s ease-out forwards;
  box-shadow:
    0 0 8px 2px hsl(199 100% 70% / 0.6),
    inset 0 0 8px 2px hsl(199 100% 70% / 0.3);
}

.cc-electric-arc--2 {
  top: -20%;
  left: -20%;
  width: 140%;
  height: 140%;
  border: 1.5px solid hsl(270 80% 70% / 0);
  animation: cc-arc-pulse-2 0.45s 0.05s ease-out forwards;
  box-shadow:
    0 0 6px 1px hsl(270 80% 70% / 0.5),
    inset 0 0 6px 1px hsl(270 80% 70% / 0.2);
}

.cc-electric-arc--3 {
  top: 10%;
  left: 10%;
  width: 80%;
  height: 80%;
  background:
    conic-gradient(
      from 0deg,
      transparent 0deg,
      hsl(199 100% 80% / 0.8) 15deg,
      transparent 30deg,
      transparent 80deg,
      hsl(330 100% 75% / 0.7) 95deg,
      transparent 110deg,
      transparent 170deg,
      hsl(270 80% 80% / 0.8) 185deg,
      transparent 200deg,
      transparent 250deg,
      hsl(199 100% 80% / 0.7) 265deg,
      transparent 280deg,
      transparent 340deg,
      hsl(330 100% 75% / 0.6) 355deg,
      transparent 360deg
    );
  animation: cc-arc-spin 0.4s linear forwards;
  filter: blur(0.5px);
}

.cc-electric-arc--4 {
  top: -60%;
  left: -60%;
  width: 220%;
  height: 220%;
  background: transparent;
  border: 1px solid transparent;
  box-shadow:
    0 0 15px 4px hsl(199 100% 70% / 0.4),
    0 0 30px 8px hsl(330 100% 65% / 0.2);
  animation: cc-arc-flash 0.35s ease-out forwards;
}

@keyframes cc-arc-pulse-1 {
  0% { transform: scale(0.3); opacity: 1; border-color: hsl(199 100% 70% / 0.9); }
  50% { transform: scale(1); opacity: 0.8; border-color: hsl(199 100% 70% / 0.6); }
  100% { transform: scale(1.5); opacity: 0; border-color: hsl(199 100% 70% / 0); }
}

@keyframes cc-arc-pulse-2 {
  0% { transform: scale(0.5) rotate(45deg); opacity: 1; border-color: hsl(270 80% 70% / 0.9); }
  60% { transform: scale(1.2) rotate(90deg); opacity: 0.7; border-color: hsl(330 100% 70% / 0.5); }
  100% { transform: scale(1.8) rotate(135deg); opacity: 0; border-color: hsl(330 100% 70% / 0); }
}

@keyframes cc-arc-spin {
  0% { transform: scale(0.5) rotate(0deg); opacity: 1; }
  100% { transform: scale(2) rotate(180deg); opacity: 0; }
}

@keyframes cc-arc-flash {
  0% { transform: scale(0.2); opacity: 0; }
  20% { opacity: 1; }
  50% { transform: scale(1); opacity: 0.6; }
  100% { transform: scale(1.5); opacity: 0; }
}


.cyber-gem--ghost {
  opacity: 0.15;
  border: 1px dashed hsl(270 60% 60% / 0.5);
  border-radius: 50%;
  background: transparent !important;
  box-shadow: none !important;
}
.cyber-gem--ghost::before,
.cyber-gem--ghost::after {
  display: none;
}

/* ===== Next piece preview ===== */
.cyber-columns-next {
  display: flex;
  flex-direction: column;
  gap: 4px;
  padding: 8px;
  border: 1px solid hsl(270 60% 50% / 0.3);
  border-radius: 0.5rem;
  background: hsl(240 30% 8% / 0.5);
  backdrop-filter: blur(4px);
}

/* ===== Touch controls ===== */
.cyber-columns-touch-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 56px;
  height: 56px;
  border-radius: 14px;
  border: 1px solid hsl(270 60% 50% / 0.4);
  background: hsl(240 30% 8% / 0.6);
  color: hsl(270 80% 75%);
  font-size: 1.25rem;
  backdrop-filter: blur(4px);
  transition: all 0.15s ease;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
  box-shadow: 0 0 10px hsl(270 60% 50% / 0.1);
}

.cyber-columns-touch-btn:active {
  background: hsl(330 100% 60% / 0.2);
  border-color: hsl(330 100% 60% / 0.5);
  transform: scale(0.92);
  box-shadow: 0 0 15px hsl(330 100% 60% / 0.3);
}

/* ===== Chain combo popup ===== */
.chain-popup {
  animation: chain-pop 0.8s ease-out forwards;
  pointer-events: none;
}

@keyframes chain-pop {
  0%   { transform: translateY(0) scale(0.5); opacity: 0; }
  30%  { transform: translateY(-10px) scale(1.2); opacity: 1; }
  100% { transform: translateY(-40px) scale(1); opacity: 0; }
}

/* ===== Board ripple on match ===== */
.cc-board-ripple {
  position: absolute;
  inset: 0;
  border-radius: 0.75rem;
  animation: cc-ripple 0.6s ease-out forwards;
  pointer-events: none;
}

@keyframes cc-ripple {
  0% { box-shadow: inset 0 0 0 0 hsl(330 100% 60% / 0.3); }
  50% { box-shadow: inset 0 0 30px 5px hsl(330 100% 60% / 0.15); }
  100% { box-shadow: inset 0 0 0 0 hsl(330 100% 60% / 0); }
}

/* ===== HUD glass panel ===== */
.cc-hud-panel {
  background: hsl(240 30% 8% / 0.4);
  backdrop-filter: blur(12px);
  border: 1px solid hsl(270 60% 50% / 0.2);
  border-radius: 0.75rem;
  box-shadow: 0 0 15px hsl(270 40% 30% / 0.1);
}